<!DOCTYPE html>
<html lang="en" ng-app="ItAssetApp">

<head>
    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <!-- Dependencies -->
    <script src="../Style%20Library/JSDependency/axios.min.js"></script>
    <script src="../Style%20Library/JSDependency/jquery.min.js"></script>
    <script src="../Style%20Library/JSDependency/angular.min.js"></script>
    <script src="../Style%20Library/JSDependency/BaseModule.js"></script>
    <script src="../Style%20Library/JSDependency/bootstrap.bundle.min.js"></script>

    <!-- Select 2 -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

    <!-- Controller -->
    <script src="../Style%20Library/WebPart/ItAssetApp/ItAssetApp.Controller.js"></script>
</head>

<body>
    <div class="container" ng-controller="AssetFormController as vm">
        <!-- Show loader if data is not loaded yet -->
        <div ng-show="loading" class="text-center">
            <div class="spinner-border" role="status">
            </div>
        </div>
        <main ng-hide="loading">
            <div class="user-info-container">
                <div class="d-flex justify-content-between align-items-center flex-column">
                    <h2 class="title">IT Asset Form</h2>
                    <h5 class="font-monospace alert alert-light fs-5" style="padding: 0; margin: 0;">TAG# {{vm.tag}}</h5>
                </div>
                <hr>

                <h4>Asset Information</h4>
                <section class="row">
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Asset Number:</label>
                        <input type="text" class="form-control" ng-model="vm.assetNumber">
                    </div>
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Asset Sub Category:</label>
                        <select class="form-select" ng-model="vm.subCategory">
                            <option value="">--Select Sub Category--</option>
                            <option ng-repeat="subCategory in vm.subCategories" value="{{ subCategory.name }}">{{
                                subCategory.name }}</option>
                        </select>
                    </div>
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Asset Acquisition Type:</label>
                        <select class="form-select" ng-model="vm.acquisitionType">
                            <option value="">--Select Acquisition--</option>
                            <option ng-repeat="acquisitionType in vm.acquisitionTypes"
                                value="{{ acquisitionType.name }}">{{ acquisitionType.name }}</option>
                        </select>
                    </div>
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Purchase Vendor:</label>
                        <input type="text" class="form-control" ng-model="vm.purchaseVendor">
                    </div>
                </section>

                <section class="row">
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Asset Category:</label>
                        <select class="form-select" ng-model="vm.category">
                            <option value="">--Select Category--</option>
                            <option ng-repeat="category in vm.categories" value="{{ category.name }}">{{ category.name
                                }}</option>
                        </select>
                    </div>
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Asset Brand:</label>
                        <select class="form-select" ng-model="vm.brand">
                            <option value="">--Select Brand--</option>
                            <option ng-repeat="brand in vm.brands" value="{{ brand.name }}">{{ brand.name }}</option>
                        </select>
                    </div>
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Asset Model:</label>
                        <input type="text" class="form-control" ng-model="vm.model">
                    </div>
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Asset Number:</label>
                        <input type="text" class="form-control" ng-model="vm.number">
                    </div>
                </section>

                <section class="row">
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Asset Title:</label>
                        <input type="text" class="form-control" ng-model="vm.assetTitle">
                    </div>
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Purchase Date:</label>
                        <input type="date" class="form-control" ng-model="vm.purchaseDate">
                    </div>
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Asset Manufacturer:</label>
                        <input type="text" class="form-control" ng-model="vm.manufacturer">
                    </div>
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Purchase Price:</label>
                        <input type="number" class="form-control" ng-model="vm.purchasePrice">
                    </div>
                </section>

                <h4>OS Information</h4>
                <hr>
                <section class="row">
                    <div class="col-3">
                        <div class="d-flex flex-column mb-3">
                            <label class="info-label">OS Name:</label>
                            <input type="text" class="form-control" ng-model="vm.name">
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="d-flex flex-column mb-3">
                            <label class="info-label">OS Version:</label>
                            <input type="text" class="form-control" ng-model="vm.version">
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="d-flex flex-column mb-3">
                            <label class="info-label">Security Patch:</label>
                            <input type="text" class="form-control" ng-model="vm.securityPatch">
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="d-flex flex-column mb-3">
                            <label class="info-label">Useful Life:</label>
                            <input type="number" class="form-control" ng-model="vm.usefulLife">
                        </div>
                    </div>
                </section>

                <section class="row">
                    <div class="col-3">
                        <div class="d-flex flex-column mb-3">
                            <label class="info-label">Current User Requisition Date:</label>
                            <input type="date" class="form-control" ng-model="vm.currentUserRequisitionDate">
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="d-flex flex-column mb-3">
                            <label class="info-label">Warranty Period(From):</label>
                            <input type="date" class="form-control" ng-model="vm.warrantyPeriodFrom">
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="d-flex flex-column mb-3">
                            <label class="info-label">Product SL No:</label>
                            <input type="text" class="form-control" ng-model="vm.productSLNo">
                        </div>
                    </div>
                    <div class="col-3">
                        <div class="d-flex flex-column mb-3">
                            <label class="info-label">Warranty Period(To):</label>
                            <input type="date" class="form-control" ng-model="vm.warrantyPeriodTo">
                        </div>
                    </div>
                </section>

                <h4>Asset User </h4>
                <hr>
                <section class="row">
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">User Name:</label>
                        <select class="form-select" style="width: 300px; padding: 0.375rem 0.75rem;" id="AssetUserName"
                            ng-model="vm.SelectedAssetUser" ng-change="vm.AssetUserNameClicked()">
                            <option value=""></option>
                            <option ng-repeat="user in vm.AssetUsers" value="{{user.email}}">{{user.name}}</option>
                        </select>
                    </div>
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">User Position:</label>
                        <input type="text" class="form-control" ng-model="vm.position">
                    </div>
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">User Email:</label>
                        <input type="text" class="form-control" ng-model="vm.email">
                    </div>
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Employee ID:</label>
                        <input type="text" class="form-control" ng-model="vm.employeeId">
                    </div>
                </section>

                <section class="row">
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Operation:</label>
                        <select class="form-select" ng-model="vm.operation">
                            <option value="">--Select Operation--</option>
                            <option ng-repeat="operation in vm.operations" value="{{ operation.name }}">{{
                                operation.name }}</option>
                        </select>
                    </div>
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Work Order Number:</label>
                        <input type="text" class="form-control" ng-model="vm.workOrderNumber">
                    </div>
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Asset Location:</label>
                        <select class="form-select" ng-model="vm.assetLocation">
                            <option value="">--Select Asset Location--</option>
                            <option ng-repeat="assetLocation in vm.assetLocations" value="{{ assetLocation.name }}">{{
                                assetLocation.name }}</option>
                        </select>
                    </div>
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Asset Owner:</label>
                        <input type="text" class="form-control" ng-model="vm.assetOwner">
                    </div>
                </section>

                <section class="row">
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Department:</label>
                        <select class="form-select" ng-model="vm.department">
                            <option value="">--Select Department--</option>
                            <option ng-repeat="department in vm.departments" value="{{ department.name }}">{{
                                department.name }}</option>
                        </select>
                    </div>
                    <div class="col-3 mb-3 d-flex flex-column">
                        <label class="info-label">Asset Custodian:</label>
                        <input type="text" class="form-control" ng-model="vm.assetCustodian">
                    </div>
                </section>
            </div>
            <section style="margin-top: 10px;">
                <button ng-hide="vm.showUpdateButton" type="button" ng-click="vm.saveAsset()"
                    class="btn btn-primary">Save</button>
                <button ng-show="vm.showUpdateButton" type="button" onclick="alert('Something Will Happen Later....')"
                    class="btn btn-primary">Update</button>

                <!-- Tests -->
                <div style="position: fixed; top: 0; right: 0; padding: 20px; margin-top: 120px;">
                    <button type="button" class="badge rounded-pill bg-warning text-dark" ng-click="vm.testMe()"><i
                            class="fa-solid fa-flask-vial"></i></button>
                </div>
            </section>
            <!-- Modal -->
            <div class="modal fade" id="SuccessModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
                aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <section ng-show="vm.loading">
                            <div class="d-flex justify-content-center  p-5">
                                <div class="spinner-grow" style="width: 3rem; height: 3rem;" role="status">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                            </div>
                        </section>
                        <section ng-hide="vm.loading">
                            <div class="modal-body">
                                <h6>
                                    {{vm.ModalMessage}}
                                </h6>
                            </div>
                            <div class="modal-footer">
                                <button type="button" ng-show="vm.showMCloseBtn" class="btn btn-secondary"
                                    data-bs-dismiss="modal">Close</button>
                                <button type="button" ng-hide="vm.showMCloseBtn" onclick="window.location.reload()"
                                    class="btn btn-primary">OK</button>
                            </div>
                        </section>
                    </div>
                </div>
            </div>
        </main>
    </div>
</body>

</html>

<style>
    /* To hide the Nav Links */
    div[id^="s4-titlerow"] {
        display: none !important;
    }

    div[id^="sideNavBox"] {
        display: none !important;
    }

    div[id^='titleAreaRow'] {
        display: none !important;
    }

    div[id^='contentBox'] {
        margin: 10px !important;
    }

    /* main style */
    body {
        background-color: #f8f9fa;
    }

    .form-control[type="text"] {
        padding: 0.375rem 0.75rem;
    }

    .user-info-container {
        background-color: #ffffff;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        padding: 20px;
        margin-top: 20px;
    }

    .user-info-label {
        font-weight: bold;
        color: #007bff;
    }

    .info-label {
        font-weight: bold;
        color: #007bff;
        display: inline;
        font-size: small;
    }

    .user-info-data {
        color: #495057;
    }

    .title {
        font-family: 'Bebas Neue', sans-serif;
        font-size: 30px;
        color: #007bff;
    }
</style>
<script>
    $(document).ready(function () {
        $('#AssetUserName').select2({
            placeholder: "Select User",
            width: 'resolve'
        });
    });
</script>